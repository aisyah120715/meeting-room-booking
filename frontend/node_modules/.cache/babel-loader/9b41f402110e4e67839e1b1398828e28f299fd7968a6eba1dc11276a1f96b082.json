{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ecah1\\\\meeting-room-booking\\\\frontend\\\\src\\\\pages\\\\MyBookings.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Link } from \"react-router-dom\";\nimport { FiCalendar, FiBookOpen, FiHome, FiLogOut, FiUser, FiClock, FiCheckCircle, FiX, FiEdit2, FiChevronRight, FiPlus } from \"react-icons/fi\";\nimport { motion } from \"framer-motion\";\nimport { useNavigate } from \"react-router-dom\";\n\n// Standard business hours\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HOURS = [\"8:00am\", \"9:00am\", \"10:00am\", \"11:00am\", \"12:00pm\", \"1:00pm\", \"2:00pm\", \"3:00pm\", \"4:00pm\"];\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true,\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"ErrorBoundary caught:\", error, errorInfo);\n  }\n  render() {\n    if (this.state.hasError) {\n      var _this$state$error;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 bg-red-50 border border-red-200 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-red-800\",\n          children: \"Something went wrong\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-red-600\",\n          children: ((_this$state$error = this.state.error) === null || _this$state$error === void 0 ? void 0 : _this$state$error.message) || \"Unknown error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            this.setState({\n              hasError: false,\n              error: null\n            });\n            window.location.reload();\n          },\n          className: \"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\",\n          children: \"Reload Component\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this);\n    }\n    return this.props.children;\n  }\n}\nexport default function MyBookings() {\n  _s();\n  const {\n    user,\n    logout,\n    loadingAuth\n  } = useAuth();\n  const [bookings, setBookings] = useState([]);\n  const [upcomingBookings, setUpcomingBookings] = useState([]);\n  const [pastBookings, setPastBookings] = useState([]);\n  const [statusMsg, setStatusMsg] = useState(\"\");\n  const [statusType, setStatusType] = useState(\"\");\n  const [editingId, setEditingId] = useState(null);\n  const [newStartTime, setNewStartTime] = useState(\"\");\n  const [newEndTime, setNewEndTime] = useState(\"\");\n  const [bookedSlots, setBookedSlots] = useState([]);\n  const [selectedBooking, setSelectedBooking] = useState(null);\n  const [isLoadingSlots, setIsLoadingSlots] = useState(false);\n  const [slotError, setSlotError] = useState(null);\n  const [isLoadingBookings, setIsLoadingBookings] = useState(true);\n  const navigate = useNavigate();\n  const API_URL = process.env.REACT_APP_API_URL;\n\n  // Utility functions\n  const formatTimeForDisplay = useCallback(timeStr => {\n    if (!timeStr) return \"\";\n    if (timeStr.includes('am') || timeStr.includes('pm')) {\n      return timeStr.toLowerCase().replace(/\\s/g, '');\n    }\n    const [hours, minutes] = timeStr.split(':');\n    const hourNum = parseInt(hours, 10);\n    const period = hourNum >= 12 ? 'pm' : 'am';\n    const displayHour = hourNum % 12 === 0 ? 12 : hourNum % 12;\n    return `${displayHour}:${minutes}${period}`;\n  }, []);\n  const timeToMinutes = useCallback(timeStr => {\n    if (!timeStr) return 0;\n    const timePart = timeStr.split(/(am|pm)/i)[0];\n    const period = timeStr.toLowerCase().includes('pm') ? 'pm' : 'am';\n    const [hours, minutes] = timePart.split(':').map(Number);\n    let total = hours * 60 + minutes;\n    if (period === 'pm' && hours !== 12) total += 12 * 60;\n    if (period === 'am' && hours === 12) total -= 12 * 60;\n    return total;\n  }, []);\n  const isTimeSlotBooked = useCallback(checkTime => {\n    const checkMinutes = timeToMinutes(checkTime);\n    return bookedSlots.some(booked => {\n      const bookedStart = timeToMinutes(booked.start);\n      const bookedEnd = timeToMinutes(booked.end);\n      return checkMinutes >= bookedStart && checkMinutes < bookedEnd && !(selectedBooking && booked.start === formatTimeForDisplay(selectedBooking.time) && booked.end === formatTimeForDisplay(selectedBooking.end_time));\n    });\n  }, [bookedSlots, timeToMinutes, selectedBooking, formatTimeForDisplay]);\n  const isTimeRangeAvailable = useCallback((startTime, endTime) => {\n    if (!startTime || !endTime) return true;\n    const startMinutes = timeToMinutes(startTime);\n    const endMinutes = timeToMinutes(endTime);\n    if (startMinutes >= endMinutes) return false;\n    return !bookedSlots.some(booked => {\n      const bookedStart = timeToMinutes(booked.start);\n      const bookedEnd = timeToMinutes(booked.end);\n      return startMinutes >= bookedStart && startMinutes < bookedEnd || endMinutes > bookedStart && endMinutes <= bookedEnd || startMinutes <= bookedStart && endMinutes >= bookedEnd;\n    });\n  }, [bookedSlots, timeToMinutes]);\n\n  // Data fetching\n  const fetchBookings = useCallback(async () => {\n    if (loadingAuth || !(user !== null && user !== void 0 && user.email)) return;\n    setIsLoadingBookings(true);\n    try {\n      const token = localStorage.getItem(\"authToken\");\n      const response = await axios.get(`${API_URL}/api/booking/user-bookings?email=${user.email}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const now = new Date();\n      const [upcoming, past] = response.data.reduce((acc, booking) => {\n        const bookingDate = new Date(booking.date);\n        if (isNaN(bookingDate.getTime())) {\n          acc[1].push(booking);\n          return acc;\n        }\n        if (bookingDate > now) {\n          acc[0].push(booking);\n        } else {\n          acc[1].push(booking);\n        }\n        return acc;\n      }, [[], []]);\n      setUpcomingBookings(upcoming);\n      setPastBookings(past);\n      setBookings(response.data);\n    } catch (error) {\n      var _error$response;\n      console.error(\"Failed to load bookings:\", error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        logout();\n        navigate(\"/login\");\n      }\n    } finally {\n      setIsLoadingBookings(false);\n    }\n  }, [user, loadingAuth, API_URL, logout, navigate]);\n  const fetchBookedSlots = useCallback(async (date, room) => {\n    setIsLoadingSlots(true);\n    try {\n      const token = localStorage.getItem(\"authToken\");\n      const res = await axios.get(`${API_URL}/api/booking/slots?date=${date}&room=${room}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setBookedSlots(res.data.map(slot => ({\n        start: formatTimeForDisplay(slot.time),\n        end: formatTimeForDisplay(slot.end_time)\n      })));\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error(\"Failed to load slots:\", error);\n      setSlotError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Error loading slots\");\n    } finally {\n      setIsLoadingSlots(false);\n    }\n  }, [API_URL, formatTimeForDisplay]);\n\n  // Booking actions\n  const handleCancel = useCallback(async id => {\n    try {\n      const token = localStorage.getItem(\"authToken\");\n      await axios.post(`${API_URL}/api/booking/cancel`, {\n        id,\n        email: user.email\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setStatusType(\"success\");\n      setStatusMsg(\"Booking cancelled\");\n      fetchBookings();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setStatusType(\"error\");\n      setStatusMsg(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || \"Failed to cancel\");\n    }\n  }, [user, API_URL, fetchBookings]);\n  const handleEdit = useCallback(booking => {\n    if (booking.status === 'approved' || booking.status === 'cancelled') {\n      setStatusType(\"error\");\n      setStatusMsg(`Cannot edit ${booking.status} bookings`);\n      return;\n    }\n    setEditingId(booking.id);\n    setNewStartTime(formatTimeForDisplay(booking.time));\n    setNewEndTime(formatTimeForDisplay(booking.end_time));\n    setSelectedBooking(booking);\n    fetchBookedSlots(booking.date, booking.room);\n  }, [fetchBookedSlots, formatTimeForDisplay]);\n  const saveEdit = useCallback(async () => {\n    if (!newStartTime || !newEndTime) {\n      setStatusType(\"error\");\n      setStatusMsg(\"Select both times\");\n      return;\n    }\n    try {\n      const token = localStorage.getItem(\"authToken\");\n      await axios.post(`${API_URL}/api/booking/edit`, {\n        id: editingId,\n        newTime: newStartTime,\n        newEndTime: newEndTime,\n        email: user.email\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setStatusType(\"success\");\n      setStatusMsg(\"Booking updated\");\n      setEditingId(null);\n      fetchBookings();\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      setStatusType(\"error\");\n      setStatusMsg(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || \"Failed to update\");\n    }\n  }, [editingId, newStartTime, newEndTime, user, API_URL, fetchBookings]);\n\n  // Effects\n  useEffect(() => {\n    if (!loadingAuth && user) fetchBookings();\n  }, [loadingAuth, user, fetchBookings]);\n\n  // Render\n  return /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex min-h-screen bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-64 bg-gradient-to-b from-green-700 to-green-600 shadow-xl hidden md:flex flex-col p-6 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"bg-white shadow-sm p-6 mb-6 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: \"My Bookings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), statusMsg && /*#__PURE__*/_jsxDEV(motion.div, {\n          className: `p-4 mb-6 rounded-lg ${statusType === \"success\" ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"}`,\n          children: statusMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), isLoadingBookings ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center h-48\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-800 mb-4\",\n              children: [\"Upcoming Bookings (\", upcomingBookings.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 gap-4\",\n              children: upcomingBookings.map(booking => /*#__PURE__*/_jsxDEV(motion.div, {\n                className: \"bg-white rounded-lg shadow-sm p-6\",\n                whileHover: {\n                  y: -2\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"font-medium\",\n                      children: booking.room\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600\",\n                      children: [new Date(booking.date).toLocaleDateString(), \" \\u2022\", formatTimeForDisplay(booking.time), \" -\", formatTimeForDisplay(booking.end_time)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-2 py-1 rounded text-xs ${booking.status === 'approved' ? 'bg-green-100 text-green-800' : booking.status === 'pending' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                    children: booking.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 23\n                }, this), editingId === booking.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4 space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"block text-sm mb-1\",\n                        children: \"Start\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 319,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"w-full border rounded p-2\",\n                        value: newStartTime,\n                        onChange: e => {\n                          setNewStartTime(e.target.value);\n                          setNewEndTime(\"\");\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select time\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 328,\n                          columnNumber: 33\n                        }, this), HOURS.map(h => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: h,\n                          disabled: isTimeSlotBooked(h) && h !== formatTimeForDisplay(booking.time),\n                          children: [h, isTimeSlotBooked(h) && \" (Booked)\"]\n                        }, h, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 330,\n                          columnNumber: 35\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"block text-sm mb-1\",\n                        children: \"End\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"w-full border rounded p-2\",\n                        value: newEndTime,\n                        onChange: e => setNewEndTime(e.target.value),\n                        disabled: !newStartTime,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select time\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 348,\n                          columnNumber: 33\n                        }, this), HOURS.map(h => {\n                          const isValid = timeToMinutes(h) > timeToMinutes(newStartTime) && (booking.status !== 'pending' || isTimeRangeAvailable(newStartTime, h) || h === formatTimeForDisplay(booking.end_time));\n                          return /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: h,\n                            disabled: !isValid,\n                            children: [h, !isValid && \" (Unavailable)\"]\n                          }, h, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 355,\n                            columnNumber: 37\n                          }, this);\n                        })]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 342,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-end space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setEditingId(null),\n                      className: \"px-3 py-1 border rounded\",\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: saveEdit,\n                      className: \"px-3 py-1 bg-blue-600 text-white rounded\",\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4 flex justify-end space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleEdit(booking),\n                    disabled: booking.status !== 'pending',\n                    className: `px-3 py-1 rounded ${booking.status === 'pending' ? 'bg-blue-600 text-white' : 'bg-gray-300 text-gray-600'}`,\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleCancel(booking.id),\n                    disabled: booking.status === 'cancelled',\n                    className: `px-3 py-1 rounded ${booking.status !== 'cancelled' ? 'bg-red-600 text-white' : 'bg-gray-300 text-gray-600'}`,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 25\n                }, this)]\n              }, booking.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-800 mb-4 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(FiChevronRight, {\n                className: \"text-blue-600 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this), \" Past Bookings (\", pastBookings.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 gap-6\",\n              children: renderBookingCards(pastBookings)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n}\n_s(MyBookings, \"9rCP8eRiX44oWC/pNXCppV8jDv8=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = MyBookings;\nvar _c;\n$RefreshReg$(_c, \"MyBookings\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","useAuth","Link","FiCalendar","FiBookOpen","FiHome","FiLogOut","FiUser","FiClock","FiCheckCircle","FiX","FiEdit2","FiChevronRight","FiPlus","motion","useNavigate","jsxDEV","_jsxDEV","HOURS","ErrorBoundary","Component","constructor","props","state","hasError","error","getDerivedStateFromError","componentDidCatch","errorInfo","console","render","_this$state$error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","message","onClick","setState","window","location","reload","MyBookings","_s","user","logout","loadingAuth","bookings","setBookings","upcomingBookings","setUpcomingBookings","pastBookings","setPastBookings","statusMsg","setStatusMsg","statusType","setStatusType","editingId","setEditingId","newStartTime","setNewStartTime","newEndTime","setNewEndTime","bookedSlots","setBookedSlots","selectedBooking","setSelectedBooking","isLoadingSlots","setIsLoadingSlots","slotError","setSlotError","isLoadingBookings","setIsLoadingBookings","navigate","API_URL","process","env","REACT_APP_API_URL","formatTimeForDisplay","timeStr","includes","toLowerCase","replace","hours","minutes","split","hourNum","parseInt","period","displayHour","timeToMinutes","timePart","map","Number","total","isTimeSlotBooked","checkTime","checkMinutes","some","booked","bookedStart","start","bookedEnd","end","time","end_time","isTimeRangeAvailable","startTime","endTime","startMinutes","endMinutes","fetchBookings","email","token","localStorage","getItem","response","get","headers","Authorization","now","Date","upcoming","past","data","reduce","acc","booking","bookingDate","date","isNaN","getTime","push","_error$response","status","fetchBookedSlots","room","res","slot","_error$response2","_error$response2$data","handleCancel","id","post","_error$response3","_error$response3$data","handleEdit","saveEdit","newTime","_error$response4","_error$response4$data","div","length","whileHover","y","toLocaleDateString","value","onChange","e","target","h","disabled","isValid","renderBookingCards","_c","$RefreshReg$"],"sources":["C:/Users/ecah1/meeting-room-booking/frontend/src/pages/MyBookings.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FiCalendar, FiBookOpen, FiHome, FiLogOut, FiUser, FiClock, FiCheckCircle, FiX, FiEdit2, FiChevronRight, FiPlus } from \"react-icons/fi\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// Standard business hours\r\nconst HOURS = [\r\n  \"8:00am\", \"9:00am\", \"10:00am\", \"11:00am\", \"12:00pm\",\r\n  \"1:00pm\", \"2:00pm\", \"3:00pm\", \"4:00pm\"\r\n];\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.error(\"ErrorBoundary caught:\", error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"p-6 bg-red-50 border border-red-200 rounded-lg\">\r\n          <h3 className=\"text-lg font-medium text-red-800\">Something went wrong</h3>\r\n          <p className=\"mt-2 text-red-600\">{this.state.error?.message || \"Unknown error\"}</p>\r\n          <button\r\n            onClick={() => {\r\n              this.setState({ hasError: false, error: null });\r\n              window.location.reload();\r\n            }}\r\n            className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n          >\r\n            Reload Component\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default function MyBookings() {\r\n  const { user, logout, loadingAuth } = useAuth();\r\n  const [bookings, setBookings] = useState([]);\r\n  const [upcomingBookings, setUpcomingBookings] = useState([]);\r\n  const [pastBookings, setPastBookings] = useState([]);\r\n  const [statusMsg, setStatusMsg] = useState(\"\");\r\n  const [statusType, setStatusType] = useState(\"\");\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [newStartTime, setNewStartTime] = useState(\"\");\r\n  const [newEndTime, setNewEndTime] = useState(\"\");\r\n  const [bookedSlots, setBookedSlots] = useState([]);\r\n  const [selectedBooking, setSelectedBooking] = useState(null);\r\n  const [isLoadingSlots, setIsLoadingSlots] = useState(false);\r\n  const [slotError, setSlotError] = useState(null);\r\n  const [isLoadingBookings, setIsLoadingBookings] = useState(true);\r\n\r\n  const navigate = useNavigate();\r\n  const API_URL = process.env.REACT_APP_API_URL;\r\n\r\n  // Utility functions\r\n  const formatTimeForDisplay = useCallback((timeStr) => {\r\n    if (!timeStr) return \"\";\r\n    if (timeStr.includes('am') || timeStr.includes('pm')) {\r\n      return timeStr.toLowerCase().replace(/\\s/g, '');\r\n    }\r\n    const [hours, minutes] = timeStr.split(':');\r\n    const hourNum = parseInt(hours, 10);\r\n    const period = hourNum >= 12 ? 'pm' : 'am';\r\n    const displayHour = hourNum % 12 === 0 ? 12 : hourNum % 12;\r\n    return `${displayHour}:${minutes}${period}`;\r\n  }, []);\r\n\r\n  const timeToMinutes = useCallback((timeStr) => {\r\n    if (!timeStr) return 0;\r\n    const timePart = timeStr.split(/(am|pm)/i)[0];\r\n    const period = timeStr.toLowerCase().includes('pm') ? 'pm' : 'am';\r\n    const [hours, minutes] = timePart.split(':').map(Number);\r\n    let total = hours * 60 + minutes;\r\n    if (period === 'pm' && hours !== 12) total += 12 * 60;\r\n    if (period === 'am' && hours === 12) total -= 12 * 60;\r\n    return total;\r\n  }, []);\r\n\r\n  const isTimeSlotBooked = useCallback((checkTime) => {\r\n    const checkMinutes = timeToMinutes(checkTime);\r\n    return bookedSlots.some((booked) => {\r\n      const bookedStart = timeToMinutes(booked.start);\r\n      const bookedEnd = timeToMinutes(booked.end);\r\n      return (\r\n        checkMinutes >= bookedStart && \r\n        checkMinutes < bookedEnd &&\r\n        !(selectedBooking && \r\n          booked.start === formatTimeForDisplay(selectedBooking.time) && \r\n          booked.end === formatTimeForDisplay(selectedBooking.end_time))\r\n      );\r\n    });\r\n  }, [bookedSlots, timeToMinutes, selectedBooking, formatTimeForDisplay]);\r\n\r\n  const isTimeRangeAvailable = useCallback((startTime, endTime) => {\r\n    if (!startTime || !endTime) return true;\r\n    const startMinutes = timeToMinutes(startTime);\r\n    const endMinutes = timeToMinutes(endTime);\r\n    if (startMinutes >= endMinutes) return false;\r\n    return !bookedSlots.some((booked) => {\r\n      const bookedStart = timeToMinutes(booked.start);\r\n      const bookedEnd = timeToMinutes(booked.end);\r\n      return (\r\n        (startMinutes >= bookedStart && startMinutes < bookedEnd) ||\r\n        (endMinutes > bookedStart && endMinutes <= bookedEnd) ||\r\n        (startMinutes <= bookedStart && endMinutes >= bookedEnd)\r\n      );\r\n    });\r\n  }, [bookedSlots, timeToMinutes]);\r\n\r\n  // Data fetching\r\n  const fetchBookings = useCallback(async () => {\r\n    if (loadingAuth || !user?.email) return;\r\n    \r\n    setIsLoadingBookings(true);\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const response = await axios.get(\r\n        `${API_URL}/api/booking/user-bookings?email=${user.email}`,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      const now = new Date();\r\n      const [upcoming, past] = response.data.reduce((acc, booking) => {\r\n        const bookingDate = new Date(booking.date);\r\n        if (isNaN(bookingDate.getTime())) {\r\n          acc[1].push(booking);\r\n          return acc;\r\n        }\r\n\r\n        if (bookingDate > now) {\r\n          acc[0].push(booking);\r\n        } else {\r\n          acc[1].push(booking);\r\n        }\r\n        return acc;\r\n      }, [[], []]);\r\n\r\n      setUpcomingBookings(upcoming);\r\n      setPastBookings(past);\r\n      setBookings(response.data);\r\n    } catch (error) {\r\n      console.error(\"Failed to load bookings:\", error);\r\n      if (error.response?.status === 401) {\r\n        logout();\r\n        navigate(\"/login\");\r\n      }\r\n    } finally {\r\n      setIsLoadingBookings(false);\r\n    }\r\n  }, [user, loadingAuth, API_URL, logout, navigate]);\r\n\r\n  const fetchBookedSlots = useCallback(async (date, room) => {\r\n    setIsLoadingSlots(true);\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const res = await axios.get(\r\n        `${API_URL}/api/booking/slots?date=${date}&room=${room}`,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setBookedSlots(res.data.map(slot => ({\r\n        start: formatTimeForDisplay(slot.time),\r\n        end: formatTimeForDisplay(slot.end_time)\r\n      })));\r\n    } catch (error) {\r\n      console.error(\"Failed to load slots:\", error);\r\n      setSlotError(error.response?.data?.message || \"Error loading slots\");\r\n    } finally {\r\n      setIsLoadingSlots(false);\r\n    }\r\n  }, [API_URL, formatTimeForDisplay]);\r\n\r\n  // Booking actions\r\n  const handleCancel = useCallback(async (id) => {\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      await axios.post(\r\n        `${API_URL}/api/booking/cancel`,\r\n        { id, email: user.email },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setStatusType(\"success\");\r\n      setStatusMsg(\"Booking cancelled\");\r\n      fetchBookings();\r\n    } catch (error) {\r\n      setStatusType(\"error\");\r\n      setStatusMsg(error.response?.data?.message || \"Failed to cancel\");\r\n    }\r\n  }, [user, API_URL, fetchBookings]);\r\n\r\n  const handleEdit = useCallback((booking) => {\r\n    if (booking.status === 'approved' || booking.status === 'cancelled') {\r\n      setStatusType(\"error\");\r\n      setStatusMsg(`Cannot edit ${booking.status} bookings`);\r\n      return;\r\n    }\r\n    setEditingId(booking.id);\r\n    setNewStartTime(formatTimeForDisplay(booking.time));\r\n    setNewEndTime(formatTimeForDisplay(booking.end_time));\r\n    setSelectedBooking(booking);\r\n    fetchBookedSlots(booking.date, booking.room);\r\n  }, [fetchBookedSlots, formatTimeForDisplay]);\r\n\r\n  const saveEdit = useCallback(async () => {\r\n    if (!newStartTime || !newEndTime) {\r\n      setStatusType(\"error\");\r\n      setStatusMsg(\"Select both times\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      await axios.post(\r\n        `${API_URL}/api/booking/edit`,\r\n        {\r\n          id: editingId,\r\n          newTime: newStartTime,\r\n          newEndTime: newEndTime,\r\n          email: user.email\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setStatusType(\"success\");\r\n      setStatusMsg(\"Booking updated\");\r\n      setEditingId(null);\r\n      fetchBookings();\r\n    } catch (error) {\r\n      setStatusType(\"error\");\r\n      setStatusMsg(error.response?.data?.message || \"Failed to update\");\r\n    }\r\n  }, [editingId, newStartTime, newEndTime, user, API_URL, fetchBookings]);\r\n\r\n  // Effects\r\n  useEffect(() => {\r\n    if (!loadingAuth && user) fetchBookings();\r\n  }, [loadingAuth, user, fetchBookings]);\r\n\r\n  // Render\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className=\"flex min-h-screen bg-gray-50\">\r\n        {/* Sidebar */}\r\n        <div className=\"w-64 bg-gradient-to-b from-green-700 to-green-600 shadow-xl hidden md:flex flex-col p-6 text-white\">\r\n          {/* ... sidebar content ... */}\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"flex-1 p-6\">\r\n          <header className=\"bg-white shadow-sm p-6 mb-6 rounded-lg\">\r\n            <h1 className=\"text-2xl font-bold text-gray-800\">My Bookings</h1>\r\n          </header>\r\n\r\n          {statusMsg && (\r\n            <motion.div\r\n              className={`p-4 mb-6 rounded-lg ${\r\n                statusType === \"success\" \r\n                  ? \"bg-green-100 text-green-800\" \r\n                  : \"bg-red-100 text-red-800\"\r\n              }`}\r\n            >\r\n              {statusMsg}\r\n            </motion.div>\r\n          )}\r\n\r\n          {isLoadingBookings ? (\r\n            <div className=\"flex justify-center items-center h-48\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600\"></div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-8\">\r\n              {/* Upcoming Bookings */}\r\n              <div>\r\n                <h2 className=\"text-xl font-bold text-gray-800 mb-4\">\r\n                  Upcoming Bookings ({upcomingBookings.length})\r\n                </h2>\r\n                <div className=\"grid grid-cols-1 gap-4\">\r\n                  {upcomingBookings.map(booking => (\r\n                    <motion.div \r\n                      key={booking.id}\r\n                      className=\"bg-white rounded-lg shadow-sm p-6\"\r\n                      whileHover={{ y: -2 }}\r\n                    >\r\n                      <div className=\"flex justify-between\">\r\n                        <div>\r\n                          <h3 className=\"font-medium\">{booking.room}</h3>\r\n                          <p className=\"text-gray-600\">\r\n                            {new Date(booking.date).toLocaleDateString()} • \r\n                            {formatTimeForDisplay(booking.time)} - \r\n                            {formatTimeForDisplay(booking.end_time)}\r\n                          </p>\r\n                        </div>\r\n                        <span className={`px-2 py-1 rounded text-xs ${\r\n                          booking.status === 'approved' ? 'bg-green-100 text-green-800' :\r\n                          booking.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\r\n                          'bg-red-100 text-red-800'\r\n                        }`}>\r\n                          {booking.status}\r\n                        </span>\r\n                      </div>\r\n\r\n                      {editingId === booking.id ? (\r\n                        <div className=\"mt-4 space-y-3\">\r\n                          <div className=\"grid grid-cols-2 gap-3\">\r\n                            <div>\r\n                              <label className=\"block text-sm mb-1\">Start</label>\r\n                              <select\r\n                                className=\"w-full border rounded p-2\"\r\n                                value={newStartTime}\r\n                                onChange={(e) => {\r\n                                  setNewStartTime(e.target.value);\r\n                                  setNewEndTime(\"\");\r\n                                }}\r\n                              >\r\n                                <option value=\"\">Select time</option>\r\n                                {HOURS.map(h => (\r\n                                  <option\r\n                                    key={h}\r\n                                    value={h}\r\n                                    disabled={isTimeSlotBooked(h) && h !== formatTimeForDisplay(booking.time)}\r\n                                  >\r\n                                    {h}{isTimeSlotBooked(h) && \" (Booked)\"}\r\n                                  </option>\r\n                                ))}\r\n                              </select>\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-sm mb-1\">End</label>\r\n                              <select\r\n                                className=\"w-full border rounded p-2\"\r\n                                value={newEndTime}\r\n                                onChange={(e) => setNewEndTime(e.target.value)}\r\n                                disabled={!newStartTime}\r\n                              >\r\n                                <option value=\"\">Select time</option>\r\n                                {HOURS.map(h => {\r\n                                  const isValid = timeToMinutes(h) > timeToMinutes(newStartTime) && \r\n                                                (booking.status !== 'pending' || \r\n                                                 isTimeRangeAvailable(newStartTime, h) ||\r\n                                                 h === formatTimeForDisplay(booking.end_time));\r\n                                  return (\r\n                                    <option\r\n                                      key={h}\r\n                                      value={h}\r\n                                      disabled={!isValid}\r\n                                    >\r\n                                      {h}{!isValid && \" (Unavailable)\"}\r\n                                    </option>\r\n                                  );\r\n                                })}\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex justify-end space-x-2\">\r\n                            <button\r\n                              onClick={() => setEditingId(null)}\r\n                              className=\"px-3 py-1 border rounded\"\r\n                            >\r\n                              Cancel\r\n                            </button>\r\n                            <button\r\n                              onClick={saveEdit}\r\n                              className=\"px-3 py-1 bg-blue-600 text-white rounded\"\r\n                            >\r\n                              Save\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"mt-4 flex justify-end space-x-2\">\r\n                          <button\r\n                            onClick={() => handleEdit(booking)}\r\n                            disabled={booking.status !== 'pending'}\r\n                            className={`px-3 py-1 rounded ${\r\n                              booking.status === 'pending' \r\n                                ? 'bg-blue-600 text-white' \r\n                                : 'bg-gray-300 text-gray-600'\r\n                            }`}\r\n                          >\r\n                            Edit\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleCancel(booking.id)}\r\n                            disabled={booking.status === 'cancelled'}\r\n                            className={`px-3 py-1 rounded ${\r\n                              booking.status !== 'cancelled'\r\n                                ? 'bg-red-600 text-white'\r\n                                : 'bg-gray-300 text-gray-600'\r\n                            }`}\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Past Bookings Section */}\r\n              <div>\r\n                <h2 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center\">\r\n                  <FiChevronRight className=\"text-blue-600 mr-2\" /> Past Bookings\r\n                  ({pastBookings.length})\r\n                </h2>\r\n                <div className=\"grid grid-cols-1 gap-6\">\r\n                  {renderBookingCards(pastBookings)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}